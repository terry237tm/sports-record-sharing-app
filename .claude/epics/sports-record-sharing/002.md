---
name: 类型定义与常量配置
status: open
created: 2025-09-09T09:19:22Z
updated: 2025-09-09T09:19:22Z
github: placeholder
depends_on: [001]
parallel: true
conflicts_with: []
---

# 类型定义与常量配置

## Description
定义运动记录相关的 TypeScript 类型接口和常量配置，包括运动类型、记录数据结构、API 响应格式等。建立统一的数据规范，确保整个项目的类型安全和数据一致性。

## Acceptance Criteria
- [ ] 运动记录核心数据类型定义完成
- [ ] 用户相关的类型定义完成
- [ ] API 请求/响应类型定义完成
- [ ] 运动类型枚举定义完成
- [ ] 错误码和常量定义完成
- [ ] 图片和媒体相关类型定义完成
- [ ] 所有类型通过 TypeScript 编译检查

## Technical Details

### 核心数据类型
```typescript
// 运动记录类型
interface SportRecord {
  id: string;
  userId: string;
  sportType: SportType;
  duration: number; // 分钟
  distance?: number; // 公里
  calories?: number;
  startTime: Date;
  endTime: Date;
  location?: Location;
  images: string[];
  description?: string;
  isPublic: boolean;
  createdAt: Date;
  updatedAt: Date;
}

// 运动类型枚举
enum SportType {
  RUNNING = 'running',
  CYCLING = 'cycling',
  SWIMMING = 'swimming',
  WALKING = 'walking',
  FITNESS = 'fitness',
  BASKETBALL = 'basketball',
  FOOTBALL = 'football',
  OTHER = 'other'
}

// 位置信息
interface Location {
  latitude: number;
  longitude: number;
  address?: string;
}
```

### API 类型定义
```typescript
// 通用响应格式
interface ApiResponse<T> {
  code: number;
  message: string;
  data: T;
  timestamp: number;
}

// 分页响应
interface PaginatedResponse<T> {
  items: T[];
  total: number;
  page: number;
  pageSize: number;
  hasNext: boolean;
}
```

### 常量定义
```typescript
// 运动类型配置
const SPORT_TYPE_CONFIG = {
  [SportType.RUNNING]: {
    name: '跑步',
    icon: 'running-icon',
    unit: '公里',
    defaultDuration: 30
  },
  // ... 其他运动类型
};

// 错误码
const ERROR_CODES = {
  SUCCESS: 0,
  INVALID_PARAMS: 1001,
  UNAUTHORIZED: 2001,
  RECORD_NOT_FOUND: 3001,
  UPLOAD_FAILED: 4001,
  // ... 其他错误码
};
```

## Dependencies
- 任务 001: 项目初始化与配置（需要基本的 TypeScript 环境）

## Effort Estimate
- **Size**: S (小)
- **Estimated Hours**: 2-3 小时

## Definition of Done
- [ ] 所有类型定义文件创建完成
- [ ] 类型定义通过 TypeScript 编译检查
- [ ] 常量配置统一导出
- [ ] 类型定义文档注释完整（中文）
- [ ] 代码审查通过
- [ ] 单元测试覆盖类型定义（如适用）